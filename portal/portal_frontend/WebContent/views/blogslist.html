<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>Blog List</title>
<style>
body  {
    background-image: url("resources/images/blog.jpg");
	background-size: 1000px 600px;
    background-repeat: no-repeat;
}

</style>
</head>
<body>
<div ng-show="loggedInUser.role=='ADMIN'">
<span ng-if="blogsWaitingForApproval.length==0">No Blogs waiting for approval</span>
	<div class="container" ng-hide="blogsWaitingForApproval.length==0">
		<div class="panel panel-info">
			<div class="panel-heading">List of blogs waiting for approval</div>
			<div class="panel-body">
				<div ng-repeat="blog in blogsWaitingForApproval">
						<br><b><a href="#/getblog/{{blog.id}}">{{blog.blogTitle}}</a></b><br> 
						<b>Author:</b>{{blog.postedBy.firstname}}&nbsp;{{blog.postedBy.lastname}}<br>
						{{blog.postedOn | date:'medium'}} <br>
				</div>
			</div>
		</div>


	</div>
</div>


<div>
	<div class="container">
		<div class="panel panel-info">
			<div class="panel-heading">List of blogs approved</div>
			<div class="panel-body">
				<div ng-repeat="blog in blogsApproved">
					<div><!--  if you click the title 'Strict Contextual Escaping #/getblog/735 -->
						<br><b><a href="#/getblog/{{blog.id}}">{{blog.blogTitle}}</a></b><br> 
						<b>Author:</b>{{blog.postedBy.firstname}}&nbsp;{{blog.postedBy.lastname}}&nbsp;
						<a href="#/uploadprofilepic"><img alt="upload profile picture" width="40px" height="40px" src="http://localhost:9090/portal_middleware/getimage/{{loggedInUser.email}}"></a>
						<b>Posted On:</b>{{blog.postedOn | date:'medium'}} <br>
					</div>
				</div>
			</div>
		</div>


	</div>
</div>
</body>
</html>
